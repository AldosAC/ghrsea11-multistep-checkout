class SignUpView extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: '',
      email: '',
      password: ''
    };
    this.onChangeHandler = this.onChangeHandler.bind(this);
    this.onSubmitHandler = this.onSubmitHandler.bind(this);
    this.resetState = this.resetState.bind(this);
  }

  onChangeHandler(event) {
    let {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  onSubmitHandler(event) {
    let {
      toNext,
      submitData
    } = this.props;
    let submitPath = '/order/signup';
    event.preventDefault();
    submitData(this.state, submitPath);
    this.resetState();
    toNext();
  }

  resetState() {
    this.setState({
      name: '',
      email: '',
      password: ''
    });
  }

  render() {
    let {
      name,
      email,
      password
    } = this.state;
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Sign Up"), /*#__PURE__*/React.createElement("form", {
      onSubmit: this.onSubmitHandler
    }, /*#__PURE__*/React.createElement("label", null, "Name"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "name",
      onChange: this.onChangeHandler,
      value: name
    }), /*#__PURE__*/React.createElement("label", null, "Email"), /*#__PURE__*/React.createElement("input", {
      type: "email",
      name: "email",
      onChange: this.onChangeHandler,
      value: email
    }), /*#__PURE__*/React.createElement("label", null, "Password"), /*#__PURE__*/React.createElement("input", {
      type: "password",
      name: "password",
      onChange: this.onChangeHandler,
      value: password
    }), /*#__PURE__*/React.createElement("button", null, "Next")));
  }

}

class ShippingView extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      line1: '',
      line2: '',
      city: '',
      state: '',
      zip: ''
    };
    this.onChangeHandler = this.onChangeHandler.bind(this);
    this.onSubmitHandler = this.onSubmitHandler.bind(this);
    this.resetState = this.resetState.bind(this);
  }

  onChangeHandler(event) {
    let {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  onSubmitHandler(event) {
    let {
      toNext,
      submitData
    } = this.props;
    let submitPath = '/order/shipping';
    event.preventDefault();
    submitData(this.state, submitPath);
    this.resetState();
    toNext();
  }

  resetState() {
    this.setState({
      line1: '',
      line2: '',
      city: '',
      state: '',
      zip: ''
    });
  }

  render() {
    let {
      line1,
      line2,
      city,
      state,
      zip
    } = this.state;
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Shipping Information"), /*#__PURE__*/React.createElement("form", {
      onSubmit: this.onSubmitHandler
    }, /*#__PURE__*/React.createElement("label", null, "Address"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "line1",
      value: line1,
      onChange: this.onChangeHandler,
      placeholder: "Address Line 1"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "line2",
      value: line2,
      onChange: this.onChangeHandler,
      placeholder: "Address Line 2"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "city",
      value: city,
      onChange: this.onChangeHandler,
      placeholder: "City"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "state",
      value: state,
      onChange: this.onChangeHandler,
      placeholder: "State"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "zip",
      value: zip,
      onChange: this.onChangeHandler,
      placeholder: "Zip Code"
    }), /*#__PURE__*/React.createElement("button", null, "Next")));
  }

}

class BillingView extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      cardNum: '',
      expiration: '',
      cvv: '',
      zip: ''
    };
    this.onChangeHandler = this.onChangeHandler.bind(this);
    this.onSubmitHandler = this.onSubmitHandler.bind(this);
    this.resetState = this.resetState.bind(this);
  }

  onChangeHandler(event) {
    let {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  onSubmitHandler(event) {
    let {
      toNext,
      submitData
    } = this.props;
    let submitPath = '/order/billing';
    event.preventDefault();
    submitData(this.state, submitPath);
    this.resetState();
    toNext();
  }

  resetState() {
    this.setState({
      cardNum: '',
      expiration: '',
      cvv: '',
      zip: ''
    });
  }

  render() {
    let {
      cardNum,
      expiration,
      cvv,
      zip
    } = this.state;
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Billing Information"), /*#__PURE__*/React.createElement("form", {
      onSubmit: this.onSubmitHandler
    }, /*#__PURE__*/React.createElement("label", null, "Credit Card Info"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "cardNum",
      value: cardNum,
      onChange: this.onChangeHandler,
      placeholder: "Enter credit card number..."
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "expiration",
      value: expiration,
      onChange: this.onChangeHandler,
      placeholder: "Exp: MO/YR"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "cvv",
      value: cvv,
      onChange: this.onChangeHandler,
      placeholder: "CVV"
    }), /*#__PURE__*/React.createElement("label", null, "Billing Zip Code"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "zip",
      value: zip,
      onChange: this.onChangeHandler,
      placeholder: "Zip Code"
    }), /*#__PURE__*/React.createElement("button", null, "Next")));
  }

}

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      view: "index"
    };
    this.toSignUpView = this.toSignUpView.bind(this);
    this.toShippingView = this.toShippingView.bind(this);
    this.toBillingView = this.toBillingView.bind(this);
    this.completeOrder = this.completeOrder.bind(this);
  }

  toSignUpView(event) {
    this.setState({
      view: "sign-up"
    });
  }

  toShippingView(event) {
    this.setState({
      view: "shipping"
    });
  }

  toBillingView(event) {
    this.setState({
      view: "billing"
    });
  }

  completeOrder(event) {
    this.setState({
      view: "index"
    });
  }

  submitData(data, path) {
    console.log(`Submit ${JSON.stringify(data)} to ${path}`);
  }

  renderView() {
    let {
      view
    } = this.state;

    if (view === "index") {
      return /*#__PURE__*/React.createElement("button", {
        onClick: this.toSignUpView
      }, "Checkout");
    } else if (view === "sign-up") {
      return /*#__PURE__*/React.createElement(SignUpView, {
        toNext: this.toShippingView,
        submitData: this.submitData
      });
    } else if (view === "shipping") {
      return /*#__PURE__*/React.createElement(ShippingView, {
        toNext: this.toBillingView,
        submitData: this.submitData
      });
    } else if (view === "billing") {
      return /*#__PURE__*/React.createElement(BillingView, {
        toNext: this.completeOrder,
        submitData: this.submitData
      });
    }
  }

  render() {
    return this.renderView();
  }

}

;
ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById("app"));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIlNpZ25VcFZpZXciLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwib25DaGFuZ2VIYW5kbGVyIiwiYmluZCIsIm9uU3VibWl0SGFuZGxlciIsInJlc2V0U3RhdGUiLCJldmVudCIsInZhbHVlIiwidGFyZ2V0Iiwic2V0U3RhdGUiLCJ0b05leHQiLCJzdWJtaXREYXRhIiwic3VibWl0UGF0aCIsInByZXZlbnREZWZhdWx0IiwicmVuZGVyIiwiU2hpcHBpbmdWaWV3IiwibGluZTEiLCJsaW5lMiIsImNpdHkiLCJ6aXAiLCJCaWxsaW5nVmlldyIsImNhcmROdW0iLCJleHBpcmF0aW9uIiwiY3Z2IiwiQXBwIiwidmlldyIsInRvU2lnblVwVmlldyIsInRvU2hpcHBpbmdWaWV3IiwidG9CaWxsaW5nVmlldyIsImNvbXBsZXRlT3JkZXIiLCJkYXRhIiwicGF0aCIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwicmVuZGVyVmlldyIsIlJlYWN0RE9NIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBTixTQUF5QkMsS0FBSyxDQUFDQyxTQUEvQixDQUF5QztBQUN2Q0MsRUFBQUEsV0FBVyxDQUFFQyxLQUFGLEVBQVM7QUFDbEIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUNYQyxNQUFBQSxJQUFJLEVBQUUsRUFESztBQUVYQyxNQUFBQSxLQUFLLEVBQUUsRUFGSTtBQUdYQyxNQUFBQSxRQUFRLEVBQUU7QUFIQyxLQUFiO0FBTUEsU0FBS0MsZUFBTCxHQUF1QixLQUFLQSxlQUFMLENBQXFCQyxJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNBLFNBQUtDLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQkQsSUFBckIsQ0FBMEIsSUFBMUIs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S0FQTSxNQU9BLElBQUljLElBQUksS0FBSyxVQUFiLEVBQXlCO0FBQzlCLDBCQUNFLG9CQUFDLFlBQUQ7QUFDQSxRQUFBLE1BQU0sRUFBRSxLQUFLRyxhQURiO0FBRUEsUUFBQSxVQUFVLEVBQUUsS0FBS2pCO0FBRmpCLFFBREY7QUFNRCxLQVBNLE1BT0EsSUFBSWMsSUFBSSxLQUFLLFNBQWIsRUFBd0I7QUFDN0IsMEJBQ0Usb0JBQUMsV0FBRDtBQUNBLFFBQUEsTUFBTSxFQUFFLEtBQUtJLGFBRGI7QUFFQSxRQUFBLFVBQVUsRUFBRSxLQUFLbEI7QUFGakIsUUFERjtBQU1EO0FBQ0Y7O0FBRURHLEVBQUFBLE1BQU0sR0FBSTtBQUNSLFdBQU8sS0FBS3NCLFVBQUwsRUFBUDtBQUNEOztBQWpFK0I7O0FBa0VqQztBQUVEQyxRQUFRLENBQUN2QixNQUFULGVBQWdCLG9CQUFDLEdBQUQsT0FBaEIsRUFBeUJ3QixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTaWduVXBWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGVtYWlsOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJyxcbiAgICB9XG5cbiAgICB0aGlzLm9uQ2hhbmdlSGFuZGxlciA9IHRoaXMub25DaGFuZ2VIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblN1Ym1pdEhhbmRsZXIgPSB0aGlzLm9uU3VibWl0SGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzZXRTdGF0ZSA9IHRoaXMucmVzZXRTdGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25DaGFuZ2VIYW5kbGVyKGV2ZW50KSB7XG4gICAgbGV0IHsgbmFtZSwgdmFsdWUgfSA9IGV2ZW50LnRhcmdldDtcbiAgICB0aGlzLnNldFN0YXRlKHsgW25hbWVdOiB2YWx1ZSB9KTtcbiAgfVxuXG4gIG9uU3VibWl0SGFuZGxlcihldmVudCkge1xuICAgIGxldCB7IHRvTmV4dCwgc3VibWl0RGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgc3VibWl0UGF0aCA9ICcvb3JkZXIvc2lnbnVwJztcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc3VibWl0RGF0YSh0aGlzLnN0YXRlLCBzdWJtaXRQYXRoKTtcbiAgICB0aGlzLnJlc2V0U3RhdGUoKTtcbiAgICB0b05leHQoKTtcbiAgfVxuXG4gIHJlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG5hbWU6ICcnLCBlbWFpbDogJycsIHBhc3N3b3JkOiAnJyB9KTtcbiAgfVxuXG4gIHJlbmRlciAoKSB7XG4gICAgbGV0IHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMz5TaWduIFVwPC9oMz5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMub25TdWJtaXRIYW5kbGVyfT5cbiAgICAgICAgICA8bGFiZWw+TmFtZTwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn0gXG4gICAgICAgICAgdmFsdWU9e25hbWV9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxsYWJlbD5FbWFpbDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IFxuICAgICAgICAgIHR5cGU9XCJlbWFpbFwiIFxuICAgICAgICAgIG5hbWU9XCJlbWFpbFwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfSBcbiAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxsYWJlbD5QYXNzd29yZDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0IFxuICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiIFxuICAgICAgICAgIG5hbWU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfSBcbiAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxidXR0b24+TmV4dDwvYnV0dG9uPlxuXG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgU2hpcHBpbmdWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxpbmUxOiAnJyxcbiAgICAgIGxpbmUyOiAnJyxcbiAgICAgIGNpdHk6ICcnLFxuICAgICAgc3RhdGU6ICcnLFxuICAgICAgemlwOiAnJyxcbiAgICB9XG5cbiAgICB0aGlzLm9uQ2hhbmdlSGFuZGxlciA9IHRoaXMub25DaGFuZ2VIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblN1Ym1pdEhhbmRsZXIgPSB0aGlzLm9uU3VibWl0SGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzZXRTdGF0ZSA9IHRoaXMucmVzZXRTdGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25DaGFuZ2VIYW5kbGVyKGV2ZW50KSB7XG4gICAgbGV0IHsgbmFtZSwgdmFsdWUgfSA9IGV2ZW50LnRhcmdldDtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBbbmFtZV06IHZhbHVlIH0pO1xuICB9XG5cbiAgb25TdWJtaXRIYW5kbGVyKGV2ZW50KSB7XG4gICAgbGV0IHsgdG9OZXh0LCBzdWJtaXREYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBzdWJtaXRQYXRoID0gJy9vcmRlci9zaGlwcGluZyc7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHN1Ym1pdERhdGEodGhpcy5zdGF0ZSwgc3VibWl0UGF0aCk7XG4gICAgdGhpcy5yZXNldFN0YXRlKCk7XG4gICAgdG9OZXh0KCk7XG4gIH1cblxuICByZXNldFN0YXRlKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBcbiAgICAgIGxpbmUxOiAnJyxcbiAgICAgIGxpbmUyOiAnJyxcbiAgICAgIGNpdHk6ICcnLFxuICAgICAgc3RhdGU6ICcnLFxuICAgICAgemlwOiAnJ1xuICAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyBsaW5lMSwgbGluZTIsIGNpdHksIHN0YXRlLCB6aXAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgzPlNoaXBwaW5nIEluZm9ybWF0aW9uPC9oMz5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMub25TdWJtaXRIYW5kbGVyfT5cbiAgICAgICAgICA8bGFiZWw+QWRkcmVzczwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwibGluZTFcIlxuICAgICAgICAgICAgdmFsdWU9e2xpbmUxfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBZGRyZXNzIExpbmUgMVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJsaW5lMlwiXG4gICAgICAgICAgICB2YWx1ZT17bGluZTJ9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZHJlc3MgTGluZSAyXCJcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwiY2l0eVwiXG4gICAgICAgICAgICB2YWx1ZT17Y2l0eX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ2l0eVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJzdGF0ZVwiXG4gICAgICAgICAgICB2YWx1ZT17c3RhdGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlN0YXRlXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgbmFtZT1cInppcFwiXG4gICAgICAgICAgICB2YWx1ZT17emlwfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJaaXAgQ29kZVwiXG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxidXR0b24+TmV4dDwvYnV0dG9uPlxuXG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jbGFzcyBCaWxsaW5nVmlldyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjYXJkTnVtOiAnJyxcbiAgICAgIGV4cGlyYXRpb246ICcnLFxuICAgICAgY3Z2OiAnJyxcbiAgICAgIHppcDogJydcbiAgICB9XG5cbiAgICB0aGlzLm9uQ2hhbmdlSGFuZGxlciA9IHRoaXMub25DaGFuZ2VIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblN1Ym1pdEhhbmRsZXIgPSB0aGlzLm9uU3VibWl0SGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzZXRTdGF0ZSA9IHRoaXMucmVzZXRTdGF0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb25DaGFuZ2VIYW5kbGVyKGV2ZW50KSB7XG4gICAgbGV0IHsgbmFtZSwgdmFsdWUgfSA9IGV2ZW50LnRhcmdldDtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBbbmFtZV06IHZhbHVlIH0pO1xuICB9XG5cbiAgb25TdWJtaXRIYW5kbGVyKGV2ZW50KSB7XG4gICAgbGV0IHsgdG9OZXh0LCBzdWJtaXREYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBzdWJtaXRQYXRoID0gJy9vcmRlci9iaWxsaW5nJztcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc3VibWl0RGF0YSh0aGlzLnN0YXRlLCBzdWJtaXRQYXRoKTtcbiAgICB0aGlzLnJlc2V0U3RhdGUoKTtcbiAgICB0b05leHQoKTtcbiAgfVxuXG4gIHJlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IFxuICAgICAgY2FyZE51bTogJycsXG4gICAgICBleHBpcmF0aW9uOiAnJyxcbiAgICAgIGN2djogJycsXG4gICAgICB6aXA6ICcnIFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IGNhcmROdW0sIGV4cGlyYXRpb24sIGN2diwgemlwIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMz5CaWxsaW5nIEluZm9ybWF0aW9uPC9oMz5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMub25TdWJtaXRIYW5kbGVyfT5cbiAgICAgICAgICA8bGFiZWw+Q3JlZGl0IENhcmQgSW5mbzwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwiY2FyZE51bVwiXG4gICAgICAgICAgICB2YWx1ZT17Y2FyZE51bX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgY3JlZGl0IGNhcmQgbnVtYmVyLi4uXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgbmFtZT1cImV4cGlyYXRpb25cIlxuICAgICAgICAgICAgdmFsdWU9e2V4cGlyYXRpb259XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4cDogTU8vWVJcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwiY3Z2XCJcbiAgICAgICAgICAgIHZhbHVlPXtjdnZ9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNWVlwiXG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxsYWJlbD5CaWxsaW5nIFppcCBDb2RlPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJ6aXBcIlxuICAgICAgICAgICAgdmFsdWU9e3ppcH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiWmlwIENvZGVcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvbj5OZXh0PC9idXR0b24+XG5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yIChwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdmlldzogXCJpbmRleFwiXG4gICAgfVxuICAgIHRoaXMudG9TaWduVXBWaWV3ID0gdGhpcy50b1NpZ25VcFZpZXcuYmluZCh0aGlzKTtcbiAgICB0aGlzLnRvU2hpcHBpbmdWaWV3ID0gdGhpcy50b1NoaXBwaW5nVmlldy5iaW5kKHRoaXMpO1xuICAgIHRoaXMudG9CaWxsaW5nVmlldyA9IHRoaXMudG9CaWxsaW5nVmlldy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuY29tcGxldGVPcmRlciA9IHRoaXMuY29tcGxldGVPcmRlci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgdG9TaWduVXBWaWV3KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpZXc6IFwic2lnbi11cFwifSlcbiAgfVxuXG4gIHRvU2hpcHBpbmdWaWV3KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpZXc6IFwic2hpcHBpbmdcIiB9KVxuICB9XG5cbiAgdG9CaWxsaW5nVmlldyhldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aWV3OiBcImJpbGxpbmdcIiB9KVxuICB9XG5cbiAgY29tcGxldGVPcmRlcihldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aWV3OiBcImluZGV4XCIgfSlcbiAgfVxuXG4gIHN1Ym1pdERhdGEoZGF0YSwgcGF0aCkge1xuICAgIGNvbnNvbGUubG9nKGBTdWJtaXQgJHtKU09OLnN0cmluZ2lmeShkYXRhKX0gdG8gJHtwYXRofWApO1xuICB9XG5cbiAgcmVuZGVyVmlldygpIHtcbiAgICBsZXQgeyB2aWV3IH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHZpZXcgPT09IFwiaW5kZXhcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnRvU2lnblVwVmlld30gPkNoZWNrb3V0PC9idXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh2aWV3ID09PSBcInNpZ24tdXBcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFNpZ25VcFZpZXcgXG4gICAgICAgIHRvTmV4dD17dGhpcy50b1NoaXBwaW5nVmlld30gXG4gICAgICAgIHN1Ym1pdERhdGE9e3RoaXMuc3VibWl0RGF0YX0gXG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh2aWV3ID09PSBcInNoaXBwaW5nXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTaGlwcGluZ1ZpZXcgXG4gICAgICAgIHRvTmV4dD17dGhpcy50b0JpbGxpbmdWaWV3fSBcbiAgICAgICAgc3VibWl0RGF0YT17dGhpcy5zdWJtaXREYXRhfSBcbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHZpZXcgPT09IFwiYmlsbGluZ1wiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QmlsbGluZ1ZpZXcgXG4gICAgICAgIHRvTmV4dD17dGhpcy5jb21wbGV0ZU9yZGVyfSBcbiAgICAgICAgc3VibWl0RGF0YT17dGhpcy5zdWJtaXREYXRhfSBcbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlclZpZXcoKTtcbiAgfVxufTtcblxuUmVhY3RET00ucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTsiXX0=