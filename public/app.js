class SignUpView extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: '',
      email: '',
      password: ''
    };
    this.onChangeHandler = this.onChangeHandler.bind(this);
    this.onSubmitHandler = this.onSubmitHandler.bind(this);
    this.resetState = this.resetState.bind(this);
  }

  onChangeHandler(event) {
    let {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  onSubmitHandler(event) {
    let {
      toNext,
      submitData
    } = this.props;
    let submitPath = '/order/signup';
    event.preventDefault();
    submitData(this.state, submitPath);
    this.resetState();
    toNext();
  }

  resetState() {
    this.setState({
      name: '',
      email: '',
      password: ''
    });
  }

  render() {
    let {
      name,
      email,
      password
    } = this.state;
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Sign Up"), /*#__PURE__*/React.createElement("form", {
      onSubmit: this.onSubmitHandler
    }, /*#__PURE__*/React.createElement("label", null, "Name"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "name",
      onChange: this.onChangeHandler,
      value: name
    }), /*#__PURE__*/React.createElement("label", null, "Email"), /*#__PURE__*/React.createElement("input", {
      type: "email",
      name: "email",
      onChange: this.onChangeHandler,
      value: email
    }), /*#__PURE__*/React.createElement("label", null, "Password"), /*#__PURE__*/React.createElement("input", {
      type: "password",
      name: "password",
      onChange: this.onChangeHandler,
      value: password
    }), /*#__PURE__*/React.createElement("button", null, "Next")));
  }

}

class ShippingView extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      line1: '',
      line2: '',
      city: '',
      state: '',
      zip: ''
    };
    this.onChangeHandler = this.onChangeHandler.bind(this);
    this.onSubmitHandler = this.onSubmitHandler.bind(this);
    this.resetState = this.resetState.bind(this);
  }

  onChangeHandler(event) {
    let {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  onSubmitHandler(event) {
    let {
      toNext,
      submitData
    } = this.props;
    let submitPath = '/order/shipping';
    event.preventDefault();
    submitData(this.state, submitPath);
    this.resetState();
    toNext();
  }

  resetState() {
    this.setState({
      line1: '',
      line2: '',
      city: '',
      state: '',
      zip: ''
    });
  }

  render() {
    let {
      line1,
      line2,
      city,
      state,
      zip
    } = this.state;
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Shipping Information"), /*#__PURE__*/React.createElement("form", {
      onSubmit: this.onSubmitHandler
    }, /*#__PURE__*/React.createElement("label", null, "Address"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "line1",
      value: line1,
      onChange: this.onChangeHandler,
      placeholder: "Address Line 1"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "line2",
      value: line2,
      onChange: this.onChangeHandler,
      placeholder: "Address Line 2"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "city",
      value: city,
      onChange: this.onChangeHandler,
      placeholder: "City"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "state",
      value: state,
      onChange: this.onChangeHandler,
      placeholder: "State"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "zip",
      value: zip,
      onChange: this.onChangeHandler,
      placeholder: "Zip Code"
    }), /*#__PURE__*/React.createElement("button", null, "Next")));
  }

}

class BillingView extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      cardNum: '',
      expiration: '',
      cvv: '',
      zip: ''
    };
    this.onChangeHandler = this.onChangeHandler.bind(this);
    this.onSubmitHandler = this.onSubmitHandler.bind(this);
    this.resetState = this.resetState.bind(this);
  }

  onChangeHandler(event) {
    let {
      name,
      value
    } = event.target;
    this.setState({
      [name]: value
    });
  }

  onSubmitHandler(event) {
    let {
      toNext,
      submitData
    } = this.props;
    let submitPath = '/order/billing';
    event.preventDefault();
    submitData(this.state, submitPath);
    this.resetState();
    toNext();
  }

  resetState() {
    this.setState({
      cardNum: '',
      expiration: '',
      cvv: '',
      zip: ''
    });
  }

  render() {
    let {
      cardNum,
      expiration,
      cvv,
      zip
    } = this.state;
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Billing Information"), /*#__PURE__*/React.createElement("form", {
      onSubmit: this.onSubmitHandler
    }, /*#__PURE__*/React.createElement("label", null, "Credit Card Info"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "cardNum",
      value: cardNum,
      onChange: this.onChangeHandler,
      placeholder: "Enter credit card number..."
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "expiration",
      value: expiration,
      onChange: this.onChangeHandler,
      placeholder: "Exp: MO/YR"
    }), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "cvv",
      value: cvv,
      onChange: this.onChangeHandler,
      placeholder: "CVV"
    }), /*#__PURE__*/React.createElement("label", null, "Billing Zip Code"), /*#__PURE__*/React.createElement("input", {
      type: "text",
      name: "zip",
      value: zip,
      onChange: this.onChangeHandler,
      placeholder: "Zip Code"
    }), /*#__PURE__*/React.createElement("button", null, "Next")));
  }

}

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      view: "index"
    };
    this.toSignUpView = this.toSignUpView.bind(this);
    this.toShippingView = this.toShippingView.bind(this);
    this.toBillingView = this.toBillingView.bind(this);
    this.completeOrder = this.completeOrder.bind(this);
  }

  toSignUpView(event) {
    this.setState({
      view: "sign-up"
    });
  }

  toShippingView(event) {
    this.setState({
      view: "shipping"
    });
  }

  toBillingView(event) {
    this.setState({
      view: "billing"
    });
  }

  completeOrder(event) {
    this.setState({
      view: "index"
    });
  }

  submitData(data, path) {
    console.log(`Submit ${JSON.stringify(data)} to ${path}`);
    axios.get(path, data);
  }

  renderView() {
    let {
      view
    } = this.state;

    if (view === "index") {
      return /*#__PURE__*/React.createElement("button", {
        onClick: this.toSignUpView
      }, "Checkout");
    } else if (view === "sign-up") {
      return /*#__PURE__*/React.createElement(SignUpView, {
        toNext: this.toShippingView,
        submitData: this.submitData
      });
    } else if (view === "shipping") {
      return /*#__PURE__*/React.createElement(ShippingView, {
        toNext: this.toBillingView,
        submitData: this.submitData
      });
    } else if (view === "billing") {
      return /*#__PURE__*/React.createElement(BillingView, {
        toNext: this.completeOrder,
        submitData: this.submitData
      });
    }
  }

  render() {
    return this.renderView();
  }

}

;
ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById("app"));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIlNpZ25VcFZpZXciLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwib25DaGFuZ2VIYW5kbGVyIiwiYmluZCIsIm9uU3VibWl0SGFuZGxlciIsInJlc2V0U3RhdGUiLCJldmVudCIsInZhbHVlIiwidGFyZ2V0Iiwic2V0U3RhdGUiLCJ0b05leHQiLCJzdWJtaXREYXRhIiwic3VibWl0UGF0aCIsInByZXZlbnREZWZhdWx0IiwicmVuZGVyIiwiU2hpcHBpbmdWaWV3IiwibGluZTEiLCJsaW5lMiIsImNpdHkiLCJ6aXAiLCJCaWxsaW5nVmlldyIsImNhcmROdW0iLCJleHBpcmF0aW9uIiwiY3Z2IiwiQXBwIiwidmlldyIsInRvU2lnblVwVmlldyIsInRvU2hpcHBpbmdWaWV3IiwidG9CaWxsaW5nVmlldyIsImNvbXBsZXRlT3JkZXIiLCJkYXRhIiwicGF0aCIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiYXhpb3MiLCJnZXQiLCJyZW5kZXJWaWV3IiwiUmVhY3RET00iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiQUFDQSxNQUFNQSxVQUFOLFNBQXlCQyxLQUFLLENBQUNDLFNBQS9CLENBQXlDO0FBQ3ZDQyxFQUFBQSxXQUFXLENBQUVDLEtBQUYsRUFBUztBQUNsQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsS0FBTCxHQUFhO0FBQ1hDLE1BQUFBLElBQUksRUFBRSxFQURLO0FBRVhDLE1BQUFBLEtBQUssRUFBRSxFQUZJO0FBR1hDLE1BQUFBLFFBQVEsRUFBRTtBQUhDLEtBQWI7QUFNQSxTQUFLQyxlQUFMLEdBQXVCLEtBQUtBLGVBQUwsQ0FBcUJDLElBQXJCLENBQTBCLElBQTFCLENBQXZCO0FBQ0EsU0FBS0MsZUFBTCxHQUF1QixLQUFLQSxlQUFMLENBQXFCRCxJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNBLFNBQUtFLFVBQUwsR0FBa0IsS0FBS0EsVUFBTCxDQUFnQkYsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBbEI7QUFDRDs7QUFFREQsRUFBQUEsZUFBZSxDQUFDSSxLQUFELEVBQVE7QUFDckIsUUFBSTtBQUFFUCxNQUFBQSxJQUFGO0FBQVFRLE1BQUFBO0FBQVIsUUFBa0JELEtBQUssQ0FBQ0UsTUFBNUI7QUFDQSxTQUFLQyxRQUFMLENBQWM7QUFBRSxPQUFDVixJQUFELEdBQVFRO0FBQVYsS0FBZDtBQUNEOztBQUVESCxFQUFBQSxlQUFlLENBQUNFLEtBQUQsRUFBUTtBQUNyQixRQUFJO0FBQUVJLE1BQUFBLE1BQUY7QUFBVUMsTUFBQUE7QUFBVixRQUF5QixLQUFLZCxLQUFsQztBQUNBLFFBQUllLFVBQVUsR0FBRyxlQUFqQjtBQUVBTixJQUFBQSxLQUFLLENBQUNPLGNBQU47QUFDQUYsSUFBQUEsVUFBVSxDQUFDLEtBQUtiLEtBQU4sRUFBYWMsVUFBYixDQUFWO0FBQ0EsU0FBS1AsVUFBTDtBQUNBSyxJQUFBQSxNQUFNO0FBQ1A7O0FBRURMLEVBQUFBLFVBQVUsR0FBRztBQUNYLFNBQUtJLFFBQUwsQ0FBYztBQUFFVixNQUFBQSxJQUFJLEVBQUUsRUFBUjtBQUFZQyxNQUFBQSxLQUFLLEVBQUUsRUFBbkI7QUFBdUJDLE1BQUFBLFFBQVEsRUFBRTtBQUFqQyxLQUFkO0FBQ0Q7O0FBRURhLEVBQUFBLE1BQU0sR0FBSTtBQUNSLFFBQUk7QUFBRWYsTUFBQUEsSUFBRjtBQUFRQyxNQUFBQSxLQUFSO0FBQWVDLE1BQUFBO0FBQWYsUUFBNEIsS0FBS0gsS0FBckM7QUFFQSx3QkFDRSw4Q0FDRSwwQ0FERixlQUVFO0FBQU0sTUFBQSxRQUFRLEVBQUUsS0FBS007QUFBckIsb0JBQ0UsMENBREYsZUFFRTtBQUNBLE1BQUEsSUFBSSxFQUFDLE1BREw7QUFFQSxNQUFBLElBQUksRUFBQyxNQUZMO0FBR0EsTUFBQSxRQUFRLEVBQUUsS0FBS0YsZUFIZjtBQUlBLE1BQUEsS0FBSyxFQUFFSDtBQUpQLE1BRkYsZUFTRSwyQ0FURixlQVVFO0FBQ0EsTUFBQSxJQUFJLEVBQUMsT0FETDtBQUVBLE1BQUEsSUFBSSxFQUFDLE9BRkw7QUFHQSxNQUFBLFFBQVEsRUFBRSxLQUFLRyxlQUhmO0FBSUEsTUFBQSxLQUFLLEVBQUVGO0FBSlAsTUFWRixlQWlCRSw4Q0FqQkYsZUFrQkU7QUFDQSxNQUFBLElBQUksRUFBQyxVQURMO0FBRUEsTUFBQSxJQUFJLEVBQUMsVUFGTDtBQUdBLE1BQUEsUUFBUSxFQUFFLEtBQUtFLGVBSGY7QUFJQSxNQUFBLEtBQUssRUFBRUQ7QUFKUCxNQWxCRixlQXlCRSwyQ0F6QkYsQ0FGRixDQURGO0FBaUNEOztBQXJFc0M7O0FBd0V6QyxNQUFNYyxZQUFOLFNBQTJCckIsS0FBSyxDQUFDQyxTQUFqQyxDQUEyQztBQUN6Q0MsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUNYa0IsTUFBQUEsS0FBSyxFQUFFLEVBREk7QUFFWEMsTUFBQUEsS0FBSyxFQUFFLEVBRkk7QUFHWEMsTUFBQUEsSUFBSSxFQUFFLEVBSEs7QUFJWHBCLE1BQUFBLEtBQUssRUFBRSxFQUpJO0FBS1hxQixNQUFBQSxHQUFHLEVBQUU7QUFMTSxLQUFiO0FBUUEsU0FBS2pCLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQkMsSUFBckIsQ0FBMEIsSUFBMUIsQ0FBdkI7QUFDQSxTQUFLQyxlQUFMLEdBQXVCLEtBQUtBLGVBQUwsQ0FBcUJELElBQXJCLENBQTBCLElBQTFCLENBQXZCO0FBQ0EsU0FBS0UsVUFBTCxHQUFrQixLQUFLQSxVQUFMLENBQWdCRixJQUFoQixDQUFxQixJQUFyQixDQUFsQjtBQUNEOztBQUVERCxFQUFBQSxlQUFlLENBQUNJLEtBQUQsRUFBUTtBQUNyQixRQUFJO0FBQUVQLE1BQUFBLElBQUY7QUFBUVEsTUFBQUE7QUFBUixRQUFrQkQsS0FBSyxDQUFDRSxNQUE1QjtBQUVBLFNBQUtDLFFBQUwsQ0FBYztBQUFFLE9BQUNWLElBQUQsR0FBUVE7QUFBVixLQUFkO0FBQ0Q7O0FBRURILEVBQUFBLGVBQWUsQ0FBQ0UsS0FBRCxFQUFRO0FBQ3JCLFFBQUk7QUFBRUksTUFBQUEsTUFBRjtBQUFVQyxNQUFBQTtBQUFWLFFBQXlCLEtBQUtkLEtBQWxDO0FBQ0EsUUFBSWUsVUFBVSxHQUFHLGlCQUFqQjtBQUVBTixJQUFBQSxLQUFLLENBQUNPLGNBQU47QUFDQUYsSUFBQUEsVUFBVSxDQUFDLEtBQUtiLEtBQU4sRUFBYWMsVUFBYixDQUFWO0FBQ0EsU0FBS1AsVUFBTDtBQUNBSyxJQUFBQSxNQUFNO0FBQ1A7O0FBRURMLEVBQUFBLFVBQVUsR0FBRztBQUNYLFNBQUtJLFFBQUwsQ0FBYztBQUNaTyxNQUFBQSxLQUFLLEVBQUUsRUFESztBQUVaQyxNQUFBQSxLQUFLLEVBQUUsRUFGSztBQUdaQyxNQUFBQSxJQUFJLEVBQUUsRUFITTtBQUlacEIsTUFBQUEsS0FBSyxFQUFFLEVBSks7QUFLWnFCLE1BQUFBLEdBQUcsRUFBRTtBQUxPLEtBQWQ7QUFPRDs7QUFFREwsRUFBQUEsTUFBTSxHQUFHO0FBQ1AsUUFBSTtBQUFFRSxNQUFBQSxLQUFGO0FBQVNDLE1BQUFBLEtBQVQ7QUFBZ0JDLE1BQUFBLElBQWhCO0FBQXNCcEIsTUFBQUEsS0FBdEI7QUFBNkJxQixNQUFBQTtBQUE3QixRQUFxQyxLQUFLckIsS0FBOUM7QUFFQSx3QkFDRSw4Q0FDRSx1REFERixlQUVFO0FBQU0sTUFBQSxRQUFRLEVBQUUsS0FBS007QUFBckIsb0JBQ0UsNkNBREYsZUFFRTtBQUNFLE1BQUEsSUFBSSxFQUFDLE1BRFA7QUFFRSxNQUFBLElBQUksRUFBQyxPQUZQO0FBR0UsTUFBQSxLQUFLLEVBQUVZLEtBSFQ7QUFJRSxNQUFBLFFBQVEsRUFBRSxLQUFLZCxlQUpqQjtBQUtFLE1BQUEsV0FBVyxFQUFDO0FBTGQsTUFGRixlQVNFO0FBQ0UsTUFBQSxJQUFJLEVBQUMsTUFEUDtBQUVFLE1BQUEsSUFBSSxFQUFDLE9BRlA7QUFHRSxNQUFBLEtBQUssRUFBRWUsS0FIVDtBQUlFLE1BQUEsUUFBUSxFQUFFLEtBQUtmLGVBSmpCO0FBS0UsTUFBQSxXQUFXLEVBQUM7QUFMZCxNQVRGLGVBaUJFO0FBQ0UsTUFBQSxJQUFJLEVBQUMsTUFEUDtBQUVFLE1BQUEsSUFBSSxFQUFDLE1BRlA7QUFHRSxNQUFBLEtBQUssRUFBRWdCLElBSFQ7QUFJRSxNQUFBLFFBQVEsRUFBRSxLQUFLaEIsZUFKakI7QUFLRSxNQUFBLFdBQVcsRUFBQztBQUxkLE1BakJGLGVBd0JFO0FBQ0UsTUFBQSxJQUFJLEVBQUMsTUFEUDtBQUVFLE1BQUEsSUFBSSxFQUFDLE9BRlA7QUFHRSxNQUFBLEtBQUssRUFBRUosS0FIVDtBQUlFLE1BQUEsUUFBUSxFQUFFLEtBQUtJLGVBSmpCO0FBS0UsTUFBQSxXQUFXLEVBQUM7QUFMZCxNQXhCRixlQStCRTtBQUNFLE1BQUEsSUFBSSxFQUFDLE1BRFA7QUFFRSxNQUFBLElBQUksRUFBQyxLQUZQO0FBR0UsTUFBQSxLQUFLLEVBQUVpQixHQUhUO0FBSUUsTUFBQSxRQUFRLEVBQUUsS0FBS2pCLGVBSmpCO0FBS0UsTUFBQSxXQUFXLEVBQUM7QUFMZCxNQS9CRixlQXVDRSwyQ0F2Q0YsQ0FGRixDQURGO0FBK0NEOztBQTVGd0M7O0FBK0YzQyxNQUFNa0IsV0FBTixTQUEwQjFCLEtBQUssQ0FBQ0MsU0FBaEMsQ0FBMEM7QUFDeENDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWE7QUFDWHVCLE1BQUFBLE9BQU8sRUFBRSxFQURFO0FBRVhDLE1BQUFBLFVBQVUsRUFBRSxFQUZEO0FBR1hDLE1BQUFBLEdBQUcsRUFBRSxFQUhNO0FBSVhKLE1BQUFBLEdBQUcsRUFBRTtBQUpNLEtBQWI7QUFPQSxTQUFLakIsZUFBTCxHQUF1QixLQUFLQSxlQUFMLENBQXFCQyxJQUFyQixDQUEwQixJQUExQixDQUF2QjtBQUNBLFNBQUtDLGVBQUwsR0FBdUIsS0FBS0EsZUFBTCxDQUFxQkQsSUFBckIsQ0FBMEIsSUFBMUIsQ0FBdkI7QUFDQSxTQUFLRSxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JGLElBQWhCLENBQXFCLElBQXJCLENBQWxCO0FBQ0Q7O0FBRURELEVBQUFBLGVBQWUsQ0FBQ0ksS0FBRCxFQUFRO0FBQ3JCLFFBQUk7QUFBRVAsTUFBQUEsSUFBRjtBQUFRUSxNQUFBQTtBQUFSLFFBQWtCRCxLQUFLLENBQUNFLE1BQTVCO0FBRUEsU0FBS0MsUUFBTCxDQUFjO0FBQUUsT0FBQ1YsSUFBRCxHQUFRUTtBQUFWLEtBQWQ7QUFDRDs7QUFFREgsRUFBQUEsZUFBZSxDQUFDRSxLQUFELEVBQVE7QUFDckIsUUFBSTtBQUFFSSxNQUFBQSxNQUFGO0FBQVVDLE1BQUFBO0FBQVYsUUFBeUIsS0FBS2QsS0FBbEM7QUFDQSxRQUFJZSxVQUFVLEdBQUcsZ0JBQWpCO0FBRUFOLElBQUFBLEtBQUssQ0FBQ08sY0FBTjtBQUNBRixJQUFBQSxVQUFVLENBQUMsS0FBS2IsS0FBTixFQUFhYyxVQUFiLENBQVY7QUFDQSxTQUFLUCxVQUFMO0FBQ0FLLElBQUFBLE1BQU07QUFDUDs7QUFFREwsRUFBQUEsVUFBVSxHQUFHO0FBQ1gsU0FBS0ksUUFBTCxDQUFjO0FBQ1pZLE1BQUFBLE9BQU8sRUFBRSxFQURHO0FBRVpDLE1BQUFBLFVBQVUsRUFBRSxFQUZBO0FBR1pDLE1BQUFBLEdBQUcsRUFBRSxFQUhPO0FBSVpKLE1BQUFBLEdBQUcsRUFBRTtBQUpPLEtBQWQ7QUFNRDs7QUFFREwsRUFBQUEsTUFBTSxHQUFHO0FBQ1AsUUFBSTtBQUFFTyxNQUFBQSxPQUFGO0FBQVdDLE1BQUFBLFVBQVg7QUFBdUJDLE1BQUFBLEdBQXZCO0FBQTRCSixNQUFBQTtBQUE1QixRQUFvQyxLQUFLckIsS0FBN0M7QUFFQSx3QkFDRSw4Q0FDRSxzREFERixlQUVFO0FBQU0sTUFBQSxRQUFRLEVBQUUsS0FBS007QUFBckIsb0JBQ0Usc0RBREYsZUFFRTtBQUNFLE1BQUEsSUFBSSxFQUFDLE1BRFA7QUFFRSxNQUFBLElBQUksRUFBQyxTQUZQO0FBR0UsTUFBQSxLQUFLLEVBQUVpQixPQUhUO0FBSUUsTUFBQSxRQUFRLEVBQUUsS0FBS25CLGVBSmpCO0FBS0UsTUFBQSxXQUFXLEVBQUM7QUFMZCxNQUZGLGVBU0U7QUFDRSxNQUFBLElBQUksRUFBQyxNQURQO0FBRUUsTUFBQSxJQUFJLEVBQUMsWUFGUDtBQUdFLE1BQUEsS0FBSyxFQUFFb0IsVUFIVDtBQUlFLE1BQUEsUUFBUSxFQUFFLEtBQUtwQixlQUpqQjtBQUtFLE1BQUEsV0FBVyxFQUFDO0FBTGQsTUFURixlQWdCRTtBQUNFLE1BQUEsSUFBSSxFQUFDLE1BRFA7QUFFRSxNQUFBLElBQUksRUFBQyxLQUZQO0FBR0UsTUFBQSxLQUFLLEVBQUVxQixHQUhUO0FBSUUsTUFBQSxRQUFRLEVBQUUsS0FBS3JCLGVBSmpCO0FBS0UsTUFBQSxXQUFXLEVBQUM7QUFMZCxNQWhCRixlQXdCRSxzREF4QkYsZUF5QkU7QUFDRSxNQUFBLElBQUksRUFBQyxNQURQO0FBRUUsTUFBQSxJQUFJLEVBQUMsS0FGUDtBQUdFLE1BQUEsS0FBSyxFQUFFaUIsR0FIVDtBQUlFLE1BQUEsUUFBUSxFQUFFLEtBQUtqQixlQUpqQjtBQUtFLE1BQUEsV0FBVyxFQUFDO0FBTGQsTUF6QkYsZUFpQ0UsMkNBakNGLENBRkYsQ0FERjtBQXlDRDs7QUFwRnVDOztBQXVGMUMsTUFBTXNCLEdBQU4sU0FBa0I5QixLQUFLLENBQUNDLFNBQXhCLENBQWtDO0FBQ2hDQyxFQUFBQSxXQUFXLENBQUVDLEtBQUYsRUFBUztBQUNsQixVQUFNQSxLQUFOO0FBQ0EsU0FBS0MsS0FBTCxHQUFhO0FBQ1gyQixNQUFBQSxJQUFJLEVBQUU7QUFESyxLQUFiO0FBR0EsU0FBS0MsWUFBTCxHQUFvQixLQUFLQSxZQUFMLENBQWtCdkIsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLd0IsY0FBTCxHQUFzQixLQUFLQSxjQUFMLENBQW9CeEIsSUFBcEIsQ0FBeUIsSUFBekIsQ0FBdEI7QUFDQSxTQUFLeUIsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CekIsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFDQSxTQUFLMEIsYUFBTCxHQUFxQixLQUFLQSxhQUFMLENBQW1CMUIsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBckI7QUFDRDs7QUFFRHVCLEVBQUFBLFlBQVksQ0FBQ3BCLEtBQUQsRUFBUTtBQUNsQixTQUFLRyxRQUFMLENBQWM7QUFBRWdCLE1BQUFBLElBQUksRUFBRTtBQUFSLEtBQWQ7QUFDRDs7QUFFREUsRUFBQUEsY0FBYyxDQUFDckIsS0FBRCxFQUFRO0FBQ3BCLFNBQUtHLFFBQUwsQ0FBYztBQUFFZ0IsTUFBQUEsSUFBSSxFQUFFO0FBQVIsS0FBZDtBQUNEOztBQUVERyxFQUFBQSxhQUFhLENBQUN0QixLQUFELEVBQVE7QUFDbkIsU0FBS0csUUFBTCxDQUFjO0FBQUVnQixNQUFBQSxJQUFJLEVBQUU7QUFBUixLQUFkO0FBQ0Q7O0FBRURJLEVBQUFBLGFBQWEsQ0FBQ3ZCLEtBQUQsRUFBUTtBQUNuQixTQUFLRyxRQUFMLENBQWM7QUFBRWdCLE1BQUFBLElBQUksRUFBRTtBQUFSLEtBQWQ7QUFDRDs7QUFFRGQsRUFBQUEsVUFBVSxDQUFDbUIsSUFBRCxFQUFPQyxJQUFQLEVBQWE7QUFDckJDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLFVBQVNDLElBQUksQ0FBQ0MsU0FBTCxDQUFlTCxJQUFmLENBQXFCLE9BQU1DLElBQUssRUFBdEQ7QUFDQUssSUFBQUEsS0FBSyxDQUFDQyxHQUFOLENBQVVOLElBQVYsRUFBZ0JELElBQWhCO0FBQ0Q7O0FBRURRLEVBQUFBLFVBQVUsR0FBRztBQUNYLFFBQUk7QUFBRWIsTUFBQUE7QUFBRixRQUFXLEtBQUszQixLQUFwQjs7QUFFQSxRQUFJMkIsSUFBSSxLQUFLLE9BQWIsRUFBc0I7QUFDcEIsMEJBQ0U7QUFBUSxRQUFBLE9BQU8sRUFBRSxLQUFLQztBQUF0QixvQkFERjtBQUdELEtBSkQsTUFJTyxJQUFJRCxJQUFJLEtBQUssU0FBYixFQUF3QjtBQUM3QiwwQkFDRSxvQkFBQyxVQUFEO0FBQ0EsUUFBQSxNQUFNLEVBQUUsS0FBS0UsY0FEYjtBQUVBLFFBQUEsVUFBVSxFQUFFLEtBQUtoQjtBQUZqQixRQURGO0FBTUQsS0FQTSxNQU9BLElBQUljLElBQUksS0FBSyxVQUFiLEVBQXlCO0FBQzlCLDBCQUNFLG9CQUFDLFlBQUQ7QUFDQSxRQUFBLE1BQU0sRUFBRSxLQUFLRyxhQURiO0FBRUEsUUFBQSxVQUFVLEVBQUUsS0FBS2pCO0FBRmpCLFFBREY7QUFNRCxLQVBNLE1BT0EsSUFBSWMsSUFBSSxLQUFLLFNBQWIsRUFBd0I7QUFDN0IsMEJBQ0Usb0JBQUMsV0FBRDtBQUNBLFFBQUEsTUFBTSxFQUFFLEtBQUtJLGFBRGI7QUFFQSxRQUFBLFVBQVUsRUFBRSxLQUFLbEI7QUFGakIsUUFERjtBQU1EO0FBQ0Y7O0FBRURHLEVBQUFBLE1BQU0sR0FBSTtBQUNSLFdBQU8sS0FBS3dCLFVBQUwsRUFBUDtBQUNEOztBQWxFK0I7O0FBbUVqQztBQUVEQyxRQUFRLENBQUN6QixNQUFULGVBQWdCLG9CQUFDLEdBQUQsT0FBaEIsRUFBeUIwQixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJcbmNsYXNzIFNpZ25VcFZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgZW1haWw6ICcnLFxuICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgIH1cblxuICAgIHRoaXMub25DaGFuZ2VIYW5kbGVyID0gdGhpcy5vbkNoYW5nZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3VibWl0SGFuZGxlciA9IHRoaXMub25TdWJtaXRIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldFN0YXRlID0gdGhpcy5yZXNldFN0YXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNoYW5nZUhhbmRsZXIoZXZlbnQpIHtcbiAgICBsZXQgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMuc2V0U3RhdGUoeyBbbmFtZV06IHZhbHVlIH0pO1xuICB9XG5cbiAgb25TdWJtaXRIYW5kbGVyKGV2ZW50KSB7XG4gICAgbGV0IHsgdG9OZXh0LCBzdWJtaXREYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBzdWJtaXRQYXRoID0gJy9vcmRlci9zaWdudXAnO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzdWJtaXREYXRhKHRoaXMuc3RhdGUsIHN1Ym1pdFBhdGgpO1xuICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xuICAgIHRvTmV4dCgpO1xuICB9XG5cbiAgcmVzZXRTdGF0ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbmFtZTogJycsIGVtYWlsOiAnJywgcGFzc3dvcmQ6ICcnIH0pO1xuICB9XG5cbiAgcmVuZGVyICgpIHtcbiAgICBsZXQgeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgzPlNpZ24gVXA8L2gzPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdEhhbmRsZXJ9PlxuICAgICAgICAgIDxsYWJlbD5OYW1lPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICBuYW1lPVwibmFtZVwiXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfSBcbiAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGxhYmVsPkVtYWlsPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgdHlwZT1cImVtYWlsXCIgXG4gICAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9IFxuICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCIgXG4gICAgICAgICAgbmFtZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9IFxuICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH1cbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGJ1dHRvbj5OZXh0PC9idXR0b24+XG5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBTaGlwcGluZ1ZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbGluZTE6ICcnLFxuICAgICAgbGluZTI6ICcnLFxuICAgICAgY2l0eTogJycsXG4gICAgICBzdGF0ZTogJycsXG4gICAgICB6aXA6ICcnLFxuICAgIH1cblxuICAgIHRoaXMub25DaGFuZ2VIYW5kbGVyID0gdGhpcy5vbkNoYW5nZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3VibWl0SGFuZGxlciA9IHRoaXMub25TdWJtaXRIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldFN0YXRlID0gdGhpcy5yZXNldFN0YXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNoYW5nZUhhbmRsZXIoZXZlbnQpIHtcbiAgICBsZXQgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IFtuYW1lXTogdmFsdWUgfSk7XG4gIH1cblxuICBvblN1Ym1pdEhhbmRsZXIoZXZlbnQpIHtcbiAgICBsZXQgeyB0b05leHQsIHN1Ym1pdERhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHN1Ym1pdFBhdGggPSAnL29yZGVyL3NoaXBwaW5nJztcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc3VibWl0RGF0YSh0aGlzLnN0YXRlLCBzdWJtaXRQYXRoKTtcbiAgICB0aGlzLnJlc2V0U3RhdGUoKTtcbiAgICB0b05leHQoKTtcbiAgfVxuXG4gIHJlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IFxuICAgICAgbGluZTE6ICcnLFxuICAgICAgbGluZTI6ICcnLFxuICAgICAgY2l0eTogJycsXG4gICAgICBzdGF0ZTogJycsXG4gICAgICB6aXA6ICcnXG4gICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IGxpbmUxLCBsaW5lMiwgY2l0eSwgc3RhdGUsIHppcCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDM+U2hpcHBpbmcgSW5mb3JtYXRpb248L2gzPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdEhhbmRsZXJ9PlxuICAgICAgICAgIDxsYWJlbD5BZGRyZXNzPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJsaW5lMVwiXG4gICAgICAgICAgICB2YWx1ZT17bGluZTF9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFkZHJlc3MgTGluZSAxXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgbmFtZT1cImxpbmUyXCJcbiAgICAgICAgICAgIHZhbHVlPXtsaW5lMn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkcmVzcyBMaW5lIDJcIlxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJjaXR5XCJcbiAgICAgICAgICAgIHZhbHVlPXtjaXR5fVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDaXR5XCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgbmFtZT1cInN0YXRlXCJcbiAgICAgICAgICAgIHZhbHVlPXtzdGF0ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3RhdGVcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwiemlwXCJcbiAgICAgICAgICAgIHZhbHVlPXt6aXB9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkNoYW5nZUhhbmRsZXJ9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlppcCBDb2RlXCJcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGJ1dHRvbj5OZXh0PC9idXR0b24+XG5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIEJpbGxpbmdWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGNhcmROdW06ICcnLFxuICAgICAgZXhwaXJhdGlvbjogJycsXG4gICAgICBjdnY6ICcnLFxuICAgICAgemlwOiAnJ1xuICAgIH1cblxuICAgIHRoaXMub25DaGFuZ2VIYW5kbGVyID0gdGhpcy5vbkNoYW5nZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3VibWl0SGFuZGxlciA9IHRoaXMub25TdWJtaXRIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZXNldFN0YXRlID0gdGhpcy5yZXNldFN0YXRlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNoYW5nZUhhbmRsZXIoZXZlbnQpIHtcbiAgICBsZXQgeyBuYW1lLCB2YWx1ZSB9ID0gZXZlbnQudGFyZ2V0O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IFtuYW1lXTogdmFsdWUgfSk7XG4gIH1cblxuICBvblN1Ym1pdEhhbmRsZXIoZXZlbnQpIHtcbiAgICBsZXQgeyB0b05leHQsIHN1Ym1pdERhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHN1Ym1pdFBhdGggPSAnL29yZGVyL2JpbGxpbmcnO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzdWJtaXREYXRhKHRoaXMuc3RhdGUsIHN1Ym1pdFBhdGgpO1xuICAgIHRoaXMucmVzZXRTdGF0ZSgpO1xuICAgIHRvTmV4dCgpO1xuICB9XG5cbiAgcmVzZXRTdGF0ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgXG4gICAgICBjYXJkTnVtOiAnJyxcbiAgICAgIGV4cGlyYXRpb246ICcnLFxuICAgICAgY3Z2OiAnJyxcbiAgICAgIHppcDogJycgXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgY2FyZE51bSwgZXhwaXJhdGlvbiwgY3Z2LCB6aXAgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGgzPkJpbGxpbmcgSW5mb3JtYXRpb248L2gzPlxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5vblN1Ym1pdEhhbmRsZXJ9PlxuICAgICAgICAgIDxsYWJlbD5DcmVkaXQgQ2FyZCBJbmZvPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJjYXJkTnVtXCJcbiAgICAgICAgICAgIHZhbHVlPXtjYXJkTnVtfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBjcmVkaXQgY2FyZCBudW1iZXIuLi5cIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwiZXhwaXJhdGlvblwiXG4gICAgICAgICAgICB2YWx1ZT17ZXhwaXJhdGlvbn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXhwOiBNTy9ZUlwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIG5hbWU9XCJjdnZcIlxuICAgICAgICAgICAgdmFsdWU9e2N2dn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlSGFuZGxlcn1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ1ZWXCJcbiAgICAgICAgICAvPlxuXG4gICAgICAgICAgPGxhYmVsPkJpbGxpbmcgWmlwIENvZGU8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgbmFtZT1cInppcFwiXG4gICAgICAgICAgICB2YWx1ZT17emlwfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VIYW5kbGVyfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJaaXAgQ29kZVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uPk5leHQ8L2J1dHRvbj5cblxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuY2xhc3MgQXBwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2aWV3OiBcImluZGV4XCJcbiAgICB9XG4gICAgdGhpcy50b1NpZ25VcFZpZXcgPSB0aGlzLnRvU2lnblVwVmlldy5iaW5kKHRoaXMpO1xuICAgIHRoaXMudG9TaGlwcGluZ1ZpZXcgPSB0aGlzLnRvU2hpcHBpbmdWaWV3LmJpbmQodGhpcyk7XG4gICAgdGhpcy50b0JpbGxpbmdWaWV3ID0gdGhpcy50b0JpbGxpbmdWaWV3LmJpbmQodGhpcyk7XG4gICAgdGhpcy5jb21wbGV0ZU9yZGVyID0gdGhpcy5jb21wbGV0ZU9yZGVyLmJpbmQodGhpcyk7XG4gIH1cblxuICB0b1NpZ25VcFZpZXcoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgdmlldzogXCJzaWduLXVwXCJ9KVxuICB9XG5cbiAgdG9TaGlwcGluZ1ZpZXcoZXZlbnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgdmlldzogXCJzaGlwcGluZ1wiIH0pXG4gIH1cblxuICB0b0JpbGxpbmdWaWV3KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpZXc6IFwiYmlsbGluZ1wiIH0pXG4gIH1cblxuICBjb21wbGV0ZU9yZGVyKGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpZXc6IFwiaW5kZXhcIiB9KVxuICB9XG5cbiAgc3VibWl0RGF0YShkYXRhLCBwYXRoKSB7XG4gICAgY29uc29sZS5sb2coYFN1Ym1pdCAke0pTT04uc3RyaW5naWZ5KGRhdGEpfSB0byAke3BhdGh9YCk7XG4gICAgYXhpb3MuZ2V0KHBhdGgsIGRhdGEpO1xuICB9XG5cbiAgcmVuZGVyVmlldygpIHtcbiAgICBsZXQgeyB2aWV3IH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHZpZXcgPT09IFwiaW5kZXhcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnRvU2lnblVwVmlld30gPkNoZWNrb3V0PC9idXR0b24+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh2aWV3ID09PSBcInNpZ24tdXBcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFNpZ25VcFZpZXcgXG4gICAgICAgIHRvTmV4dD17dGhpcy50b1NoaXBwaW5nVmlld30gXG4gICAgICAgIHN1Ym1pdERhdGE9e3RoaXMuc3VibWl0RGF0YX0gXG4gICAgICAgIC8+XG4gICAgICApXG4gICAgfSBlbHNlIGlmICh2aWV3ID09PSBcInNoaXBwaW5nXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTaGlwcGluZ1ZpZXcgXG4gICAgICAgIHRvTmV4dD17dGhpcy50b0JpbGxpbmdWaWV3fSBcbiAgICAgICAgc3VibWl0RGF0YT17dGhpcy5zdWJtaXREYXRhfSBcbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKHZpZXcgPT09IFwiYmlsbGluZ1wiKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QmlsbGluZ1ZpZXcgXG4gICAgICAgIHRvTmV4dD17dGhpcy5jb21wbGV0ZU9yZGVyfSBcbiAgICAgICAgc3VibWl0RGF0YT17dGhpcy5zdWJtaXREYXRhfSBcbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICByZW5kZXIgKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlclZpZXcoKTtcbiAgfVxufTtcblxuUmVhY3RET00ucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTsiXX0=